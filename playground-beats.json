{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",

  "landingPage": "/beats-playground/",

  "preferredVersions": {
    "php": "8.2",
    "wp": "6.5"
  },

  "steps": [
    {
      "step": "unzip",
      "zipFile": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/crystalthedeveloper/wordpress-beats-playground/main/assets/beats-upload-player.zip",
        "caption": "Bundling Beats Upload Player"
      },
      "extractToPath": "/wordpress/wp-content/plugins/"
    },
    {
      "step": "activatePlugin",
      "pluginPath": "beats-upload-player/beats-upload-player.php"
    },
    {
      "step": "runPHP",
      "code": "require_once ABSPATH . 'wp-admin/includes/post.php';\nrequire_once ABSPATH . 'wp-admin/includes/misc.php';\n\n$content = <<<'HTML'\n<!-- wp:group {\"layout\":{\"type\":\"constrained\",\"contentSize\":\"900px\"},\"style\":{\"spacing\":{\"blockGap\":\"32px\"}}} -->\n<div class=\"wp-block-group\"><!-- wp:heading {\"textAlign\":\"center\",\"level\":1,\"style\":{\"typography\":{\"fontSize\":\"54px\",\"fontWeight\":\"700\"}}} -->\n<h1 class=\"wp-block-heading has-text-align-center\" style=\"font-size:54px;font-weight:700\">Beats Playground</h1>\n<!-- /wp:heading -->\n\n<!-- wp:navigation {\"layout\":{\"type\":\"flex\",\"justifyContent\":\"center\"}} -->\n<!-- wp:navigation-link {\"label\":\"Home\",\"url\":\"/\"} /-->\n<!-- wp:navigation-link {\"label\":\"Docs\",\"url\":\"https://wordpress.org/documentation/\"} /-->\n<!-- /wp:navigation -->\n\n<!-- wp:group {\"style\":{\"spacing\":{\"blockGap\":\"16px\"}},\"layout\":{\"type\":\"default\"}} -->\n<div class=\"wp-block-group\"><!-- wp:shortcode -->\n[beats_category_search]\n<!-- /wp:shortcode -->\n\n<!-- wp:shortcode -->\n[beats_visualizer]\n<!-- /wp:shortcode -->\n\n<!-- wp:shortcode -->\n[beats_display_home]\n<!-- /wp:shortcode -->\n\n<!-- wp:shortcode -->\n[beats_global_player]\n<!-- /wp:shortcode --></div>\n<!-- /wp:group -->\n\n<!-- wp:paragraph {\"align\":\"center\",\"style\":{\"typography\":{\"fontSize\":\"14px\"},\"spacing\":{\"margin\":{\"top\":\"24px\"}}}} -->\n<p class=\"has-text-align-center\" style=\"margin-top:24px;font-size:14px\">Â© Beats Playground</p>\n<!-- /wp:paragraph --></div>\n<!-- /wp:group -->\nHTML;\n\n$page_args = array(\n    'post_title'   => 'Beats Playground',\n    'post_name'    => 'beats-playground',\n    'post_status'  => 'publish',\n    'post_type'    => 'page',\n    'post_content' => $content,\n);\n\n$existing = get_page_by_path( $page_args['post_name'], OBJECT, 'page' );\nif ( $existing ) {\n    $page_args['ID'] = $existing->ID;\n    $page_id = wp_update_post( $page_args );\n} else {\n    $page_id = wp_insert_post( $page_args );\n}\n\nupdate_option( 'show_on_front', 'page' );\nupdate_option( 'page_on_front', $page_id );\nflush_rewrite_rules();\nwp_safe_redirect( home_url( '/beats-playground/' ) );\n"
    }
  ]
}
