{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "landingPage": "/",
  "preferredVersions": {
    "php": "8.2",
    "wp": "6.5"
  },
  "steps": [
    {
      "step": "unzip",
      "zipFile": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/crystalthedeveloper/wordpress-beats-playground/main/assets/beats-upload-player.zip",
        "caption": "Bundling Beats Upload Player"
      },
      "extractToPath": "/wordpress/wp-content/plugins/"
    },
    {
      "step": "activatePlugin",
      "pluginPath": "beats-upload-player/beats-upload-player.php"
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/themes/twentytwentyfour/page-beats-template.php",
      "data": "<?php\\n/**\\n * Template Name: Beats Playground Template\\n */\\nget_header();\\n?>\\n<main id=\\\"primary\\\" class=\\\"site-main\\\">\\n    <div id=\\\"beats-wrapper\\\" class=\\\"beats-wrapper\\\" style=\\\"max-width:900px;margin:0 auto;padding:40px 20px;text-align:center;display:flex;flex-direction:column;gap:18px;\\\">\\n        <h1 style=\\\"font-size:54px;font-weight:700;margin:0;\\\">Beats Playground</h1>\\n        <p style=\\\"font-size:16px;\\\">Preview the Beats shortcodes below.</p>\\n        <div class=\\\"beats-shortcodes\\\" style=\\\"display:flex;flex-direction:column;gap:18px;\\\">\\n            <?php echo do_shortcode( '[beats_category_search]' ); ?>\\n            <?php echo do_shortcode( '[beats_visualizer]' ); ?>\\n            <?php echo do_shortcode( '[beats_display_home]' ); ?>\\n            <?php echo do_shortcode( '[beats_global_player]' ); ?>\\n        </div>\\n        <p style=\\\"font-size:14px;margin-top:20px;\\\">&copy; Beats Playground</p>\\n    </div>\\n</main>\\n<?php\\nget_footer();"
    },
    {
      "step": "runPHP",
      "code": "require_once ABSPATH . 'wp-admin/includes/post.php';\nrequire_once ABSPATH . 'wp-admin/includes/misc.php';\n\n$page_args = array(\n    'post_title'   => 'Beats Playground',\n    'post_name'    => 'beats-playground',\n    'post_status'  => 'publish',\n    'post_type'    => 'page',\n    'post_content' => '<!-- wp:shortcode -->[beats_global_player]<!-- /wp:shortcode -->',\n    'meta_input'   => array(\n        '_wp_page_template' => 'page-beats-template.php',\n    ),\n);\n\n$existing = get_page_by_path( $page_args['post_name'], OBJECT, 'page' );\nif ( $existing ) {\n    $page_args['ID'] = $existing->ID;\n    $page_id = wp_update_post( $page_args );\n} else {\n    $page_id = wp_insert_post( $page_args );\n}\n\nupdate_option( 'show_on_front', 'page' );\nupdate_option( 'page_on_front', $page_id );\nflush_rewrite_rules();\nwp_safe_redirect( home_url( '/beats-playground/' ) );"
    }
  ]
}